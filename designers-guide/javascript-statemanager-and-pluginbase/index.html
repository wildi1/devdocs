<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>jQuery plugins and the StateManager</title><meta name="description" content="jQuery plugins and the StateManager"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="theme-color" content="#26556f"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:700,600,400" type="text/css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/github-gist.min.css"><link rel="stylesheet" href="https://developers.shopware.com/assets/css/docsearch.min.1501499820.css"><link rel="stylesheet" href="https://developers.shopware.com/assets/css/basic.1501499820.css" media="screen"><link rel="alternate" type="application/atom+xml" href="https://developers.shopware.com/blog/atom.xml" title="Shopware Developer blog feed"></head><body>
<div class="wrapper">

    <header class="header--main"><a href="https://developers.shopware.com/" class="offcanvas--trigger" title="Navigation">
            <i class="icon-list"></i>
        </a>

        <a href="https://developers.shopware.com/" title="Shopware Developer Documentation" class="logo">
            <img src="https://developers.shopware.com/assets/img/logo-devdocs.1501499820.png"></a>

    </header><div id="searchBox">
        <form action="#" method="get" id="search-form">
            <input type="text" id="search-query" name="q" placeholder="Search" autocomplete="off"><button id="search-action"></button>
        </form>
    </div>

    <nav class="navi--main" data-offcanvas="true"><div class="navi--content">
            <ul class="navi--tree"><li class="navi--chapter">
                    <a href="/developers-guide/" class="navi--link has--children">
                       Developer Guides
                    </a>

                                        <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/plugin-guide/">
                                Developing plugins
                            </a>

                                                            <ul class="navi--sub-tree is--numbered"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-quick-start/">
                                                Quick start guide
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/example-plugin/">
                                                Storefront extension
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/controller/">
                                                Controllers
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/models/">
                                                Models
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/event-guide/">
                                                Events
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/services/">
                                                Services
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-configuration/">
                                                Plugin configuration
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-testing/">
                                                Plugin testing
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-license/">
                                                Plugin License
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-plugin-update-guide/">
                                                Plugin update guide
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-extension-by-plugin/">
                                                Extend an existing plugin
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-system/">
                                                The 5.2 Plugin System
                                            </a>
                                        </li>
                                                                    </ul></li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/developers-guide/general-resources/">
                                General Resources
                            </a>

                                                            <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/cheat-sheet/">
                                                Cheat-Sheet
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/phpstorm/">
                                                Setting up PhpStorm
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-upgrade-guide-for-developers/">
                                                Upgrade Guide
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-performance-for-devs/">
                                                Performance Guide
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/debugging/">
                                                Debugging Shopware
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/elasticsearch/">
                                                Elasticsearch
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-config/">
                                                config.php settings
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/blog/2015/06/09/understanding-the-shopware-hook-system/">
                                                Hooks
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/blog/2015/08/11/the-shopware-seo-engine/">
                                                SEO Engine
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-media-service/">
                                                MediaService
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/http-cache/">
                                                HTTP Cache
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/address-management-guide/">
                                                Address Management
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/attribute-system/">
                                                Attributes
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/csrf-protection/">
                                                CSRF Protection
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/dic-tags/">
                                                Dependency Injection Tags
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-cli-commands/">
                                                CLI commands
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-search-bundle/">
                                                SearchBundle
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/shopware-5-core-service-extensions/">
                                                Service extensions
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/entity-relationship-model/">
                                                Entity relationship model
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/password-encoder/">
                                                Password encoder
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/global-variables-in-templates/">
                                                Global variables in templates
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/media-optimizer/">
                                                Media Optimizer
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/concept-cart-bundle/">
                                                Cart Concept
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/customer-streams-extension/">
                                                Customer - Search &amp; Streams
                                            </a>
                                        </li>
                                                                    </ul></li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/developers-guide/tutorials/">
                                Tutorials
                            </a>

                                                            <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/custom-shopping-world-elements/">
                                                Create custom shopping worlds elements
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/digital-publishing-elements/">
                                                Create custom digital publishing elements
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/emotion-preset-plugin/">
                                                Create custom emotion preset plugin
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-lastregistrations-widget/">
                                                Create your own backend widget
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/payment-plugin/">
                                                Create custom payment plugin
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/plugin-slugify/">
                                                Create custom url slugger
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/risk-rules/">
                                                Risk Rules
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/vagrant-phpstorm/">
                                                Vagrant and PHPStorm
                                            </a>
                                        </li>
                                                                    </ul></li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/developers-guide/backend-and-extjs/">
                                Backend and ExtJS
                            </a>

                                                            <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-extension/">
                                                Extending the backend
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-components/basics/">
                                                Basics
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-components/listing/">
                                                Listing
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-components/detail/">
                                                Detail
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-components/associations/">
                                                Associations
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-components/listing-extensions/">
                                                Listing extensions
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-components/batch-processes/">
                                                Batch processes
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/lightweight-backend-modules/">
                                                Lightweight backend modules
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/backend-icons/">
                                                Backend icon set
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/backend-escaping/">
                                                Backend escaping
                                            </a>
                                        </li>
                                                                    </ul></li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/developers-guide/rest/">
                                REST API
                            </a>

                                                            <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/">
                                                REST API Basics
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/article/">
                                                The article resource
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/customer/">
                                                The customer resource
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/order/">
                                                The order resource
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/translation/">
                                                The translation resource
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/category/">
                                                The category resource
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/media/">
                                                The media resource
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/merge-mode/">
                                                The merge mode
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/cache/">
                                                The cache resources
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/batch/">
                                                The batch mode
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/customer-streams/">
                                                Customer Streams
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/filter/">
                                                Filter
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/examples/payment/">
                                                Payment
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/models/">
                                                Models
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/plugin-api-extension/">
                                                Create your own endpoint
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/developers-guide/rest-api/extend-api-resource/">
                                                Extend a REST API resource
                                            </a>
                                        </li>
                                                                    </ul></li>
                                            </ul></li>

                
                <li class="navi--chapter is--active">
                    <a href="/designers-guide/" class="navi--link is--active has--children">
                       Frontend Guides
                    </a>

                                        <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter is--active">

                            <a class="navi--link is--active has--children" href="/theme-guide/">
                                Developing Themes
                            </a>

                                                            <ul class="navi--sub-tree is--numbered"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/theme-startup-guide/">
                                                Theme Startup Guide
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/getting-started/">
                                                Getting started with templating
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/smarty/">
                                                Getting started with Smarty
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/less/">
                                                Getting started with LESS
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/css-and-js-files-usage/">
                                                Using CSS and JavaScript
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/responsive-theme-default-components/">
                                                Using the theme default components
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link is--active" href="/designers-guide/javascript-statemanager-and-pluginbase/">
                                                jQuery plugins &amp; the StateManager
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/configuration-using-theme-php/">
                                                Custom theme configuration
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/preparing-themes-for-the-community-store/">
                                                Preparing themes for the community store
                                            </a>
                                        </li>
                                                                    </ul></li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/designers-guide/general-resources/">
                                General Resources
                            </a>

                                                            <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/eslint-for-plugins/">
                                                ESLint for plugins
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/javascript-coding-style/">
                                                Javascript Coding Style
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/styletile/">
                                                UI Components
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/snippets/">
                                                Snippet Management
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/datepicker/">
                                                Datepicker
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/external-resources/">
                                                Embedding external resources
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/responsive-images/">
                                                Responsive images
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/best-practice-theme-development/">
                                                Using the Grunt watcher
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/modify-jquery-plugins/">
                                                Modify jQuery plugins
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/managing-third-party-dependencies-with-bower/">
                                                Managing dependencies with Bower
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/managing-third-party-dependencies-with-npm/">
                                                Managing dependencies with NPM
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/legacy-template-development-in-shopware-5/">
                                                Legacy template development
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/how-to-use-karma/">
                                                Testing with Karma
                                            </a>
                                        </li>
                                                                    </ul></li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link has--children" href="/designers-guide/tutorials/">
                                Tutorials
                            </a>

                                                            <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/find-smarty-blocks/">
                                                How to find smarty blocks
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/custom-templates/">
                                                Adding custom templates
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/custom-listing-page/">
                                                Example: Custom listing page
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/custom-detail-page/">
                                                Example: Custom Detail page
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/edit-newsletter-and-document-templates/">
                                                Edit newsletter and document templates
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/google-pagespeed-best-practise/">
                                                Google PageSpeed
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/browser-notice/">
                                                Outdated browser notification
                                            </a>
                                        </li>
                                                                            <li class="navi--sub-chapter">
                                            <a class="navi--link" href="/designers-guide/range-slider-algorithm/">
                                                Range slider algorithm
                                            </a>
                                        </li>
                                                                    </ul></li>
                                            </ul></li>

                
                <li class="navi--chapter">
                    <a href="/contributing/" class="navi--link has--children">
                       Contributing
                    </a>

                                        <ul class="navi--sub-tree is--bulleted"><li class="navi--sub-chapter">

                            <a class="navi--link" href="/contributing/contributing-code/">
                                Contributing Code
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/contributing/contribution-guideline/">
                                Contribution Guideline
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/developers-guide/coding-standards/">
                                Coding Standards
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/contributing/irc/">
                                IRC Channel
                            </a>

                                                    </li>
                                            </ul></li>

                
                <li class="navi--chapter">
                    <a href="/sysadmins-guide/" class="navi--link has--children">
                       System Guides
                    </a>

                                        <ul class="navi--sub-tree"><li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/system-requirements/">
                                System requirements
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/installation-guide/">
                                Installation Guide
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/update-guide/">
                                Update Guide
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/shopware-5-performance-for-sysadmins/">
                                Performance Guide
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/elasticsearch-setup/">
                                Elasticsearch setup
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/varnish-setup/">
                                Varnish setup
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/sessions/">
                                Sessions
                            </a>

                                                    </li>
                                                <li class="navi--sub-chapter">

                            <a class="navi--link" href="/sysadmins-guide/shopware-cluster-setup/">
                                Cluster setup
                            </a>

                                                    </li>
                                            </ul></li>

                
                <li class="navi--chapter">
                    <a href="/blog/" class="navi--link">
                       Blog
                    </a>

                                    </li>

                            </ul></div>
    </nav><div class="devdocs content">

        <section id="search-results" style="display: none;"><h2 class="search-results--headline" id="search-results">Search results</h2>

            <div class="entries"></div>
        </section><div class="inner-container">

            <div class="info">

                
                                <a class="edit-on-github" href="https://github.com/shopware/devdocs/blob/master/source/designers-guide/javascript-statemanager-and-pluginbase/index.md" target="_blank"><i class="icon-github"></i> Edit this page on GitHub</a>
                
            </div>

                        <h1>
                jQuery plugins and the StateManager
            </h1>
            
            <div class="toc-list"></div>

<h2 id="introduction">Introduction</h2>

<p>Javascript development can be painful especially when you have to deal with responsive websites where you have to adjust the behavior of the code based on the available screen real estate. Therefore we came up with a component called <em>StateManager</em>, which provides you with the ability to define states and triggers a <em>callback</em> function, if a state was entered or left.</p>

<p>On the other hand, we have our lovely jQuery plugins which are not always a pleasure to build. To simplify the process, we've implemented a plugin base class which features the best practices of jQuery plugin development that flawlessly integrates with the <em>StateManager</em>.</p>

<p>In the following document we want to give you a general overview of the provided functionality, which can come in handy for your next theme.</p>

<h2 id="plugin-base-class">Plugin base class</h2>

<p>As mentioned, the jQuery plugin base class was built up with the best practices of jQuery plugin development. Here's feature set at a glance:</p>

<ul><li>Default configuration + ability to override it with a user configuration</li>
<li>Ability to use HTML5 <code>data</code> attributes to configure the plugin</li>
<li>Support for jQuery's method chaining</li>
<li>Namespacing of events</li>
<li>Built-in functionality to remove event listeners</li>
<li>Preventing multiple instanciation on the same element</li>
<li>Custom expression to check if an element uses a specific plugin</li>
<li>Automatically binding the plugin to the element using jQuery's <code>data</code>-method</li>
</ul><p>As you can see, we've put a lot of effort in the provided feature set to provide you with an easy to use class for your next jQuery plugin.</p>

<h3 id="getting-started">Getting started</h3>

<p>Now it's time to take a look at the actual implementation process of a jQuery plugin using the plugin base class. Here's a commented example of a generic plugin:</p>

<pre><code class="language-javascript">/**
 * Example jQuery plugin using the base class
 *
 * The $.plugin method bound to the globally available jQuery
 * object. The method needs two parameters, the first one is
 * simply the name of the plugin which will be used to bind
 * the plugin to jQuery's $.fn namespace. The second parameter
 * is an object which provides the default configuration and 
 * the actual implementation of the plugin.
 */
$.plugin('example', {
    
    /**
     * The default configuration object of the plugin. The
     * user can provide custom settings which will be automatically
     * merged into a new object which can be accessed using &quot;this.opts&quot;
     * in any plugin method which scope is in the plugin.
     */
    defaults: {
        activeCls: 'js--is-active'
    },
    
    /**
     * The &quot;init&quot; method acts like a constructor for the plugin.
     * Usually you'll cache necessary elements and registers the
     * event listeners for your plugin. Additionally you can switch
     * up the behavior of the plugin based on the provided configuration.
     */
    init: function() {
        var me = this;
        
        /**
         * Calling the &quot;applyDataAttributes&quot; method the base class
         * automatically reads out the all &quot;data&quot; attributes from
         * the element and overrides the configuration. It's especially
         * useful if you want to configure your plugin using HTML
         * markup instead of providing a configuration object.
         *
         * For example, we call this plugin on the following element:
         *    &lt;div data-activeCls=&quot;some-other-class&quot;&gt;...&lt;/div&gt;
         *
         * ... the &quot;data&quot; attribute will override the &quot;activeCls&quot;
         * property with the value &quot;some-other-class&quot;.
         */
        me.applyDataAttributes();
        
        /**
         * Now we're setting up a new event listener for the plugin
         * using the built-in &quot;_on&quot; method which is actually a proxy
         * method for jQuery's &quot;on&quot; method with some additional benefits.
         * The event listener and the event will be registered in a
         * plugin specific event collection. The collection will be 
         * automatically iterated and removes the registered event listeners
         * from the element.
         * Additionally, the event name will be namespaced on the fly which
         * provides us with a safe way to remove a specific event listener from
         * an element and doesn't affect other plugins which are listening on
         * the same event. 
         */
        me._on(me.$el, 'click', function(event) {
            event.preventDefault();
            
            /**
             * In the condition we're using the custom expression of the plugin
             * to terminate if the element uses our plugin.
             * Additionally you see that we're using the variable &quot;this.$el&quot; which
             * is the element that has instanciated the plugin.
             */
            if(me.$el.is('plugin-example')) {
                
                /**
                 * Now we're accessing the merged configuration of the plugin using
                 * the variable &quot;this.opts&quot;.
                 */
                me.$el.toggleClass(me.opts.activeCls);
            }
        });
    },
    
    /**
     * The destroy method can either be called programmically from outside the plugin
     * or automatically using the &quot;StateManager&quot; when the defined states are left.
     * Usually, you remove classes which were added by your plugin to the element and
     * removes the event listeners from the element.
     */
    destroy: function() {
        var me = this;
    
        me.$el.removeClass(me.opts.activeCls);
        
        /**
         * Calling the &quot;_destroy&quot; method will remove all event listeners which were
         * registered using the &quot;_on&quot; method of the plugin base.
         * You can access the collection of the events in the plugin using the variable
         * &quot;this._events&quot; if you want to iterate over the event listeners yourself.
         */
        me._destroy();
    }
});
</code></pre>

<p><em>Fully commented jQuery plugin using the base class.</em></p>

<h3 id="class-properties">Class properties</h3>

<ul><li>
<code>_name : String</code>
<ul><li>Name of the plugin.</li>
</ul></li>
<li>
<code>$el : jQuery</code>
<ul><li>The HTMLElement which instanciated the plugin as a jQuery object.</li>
</ul></li>
<li>
<code>opts : Object</code>
<ul><li>Result of the default configuration and the provided user configuration. Keep in mind that calling the <code>this.applyDataAttributes()</code> method overrides the property values in the object.</li>
</ul></li>
<li>
<code>_events : Array</code>
<ul><li>Collection, which contains all registered event listener which are added using the <code>_on</code> method.</li>
</ul></li>
</ul><h3 id="class-methods">Class methods</h3>

<ul><li>
<code>init()</code>
<ul><li>Template method which acts as the constructor of the plugin where you can cache the necessary HTML elements and set up the event listeners.</li>
</ul></li>
<li>
<code>destroy()</code>
<ul><li>Template method which destroys the plugin. Usually, you remove classes and event listeners which you've added to the element. The method should be implemented in your plugin, especially when you plan to provide the plugin functionality only for certain states.</li>
</ul></li>
<li>
<code>update()</code>
<ul><li>Template method which will be called when a certain state was entered / left to update the behavior of the plugin. This method is only necessary when you use the StateManager to instanciate the plugin.</li>
</ul></li>
<li>
<code>_destroy()</code>
<ul><li>Private method which iterates over the registered event listeners in the <code>_events</code> property of the plugin. Additionally, the method removes the in-memory binding of the plugin to the element using jQuery's <code>removeData()</code> method and fires an event on the globally available observer.</li>
</ul></li>
<li>
<code>_on()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>element : jQuery | HTMLElement</code> - The event target for the specified event listener.</li>
<li>
<code>event : String</code> - A string representing the event type to listen for.</li>
<li>
<code>fn : Function</code> - The object that receives a notification when an event of the specified type occurs.</li>
</ul></li>
<li>Proxy method for jQuery's <code>on()</code> method which binds an event listener to the provided element and registers the listener in the <code>_events</code> event collection.</li>
</ul></li>
<li>
<code>_off()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>element : jQuery | HTMLElement</code> - The event target which has an event listener</li>
<li>
<code>event : String</code> - One or more space-separated event types and optional namespaces, or just namespaces, such as &quot;click&quot; or &quot;keydown.myPlugin&quot;</li>
</ul></li>
</ul></li>
<li>
<code>getName()</code>
<ul><li>Getter method for the plugin name.</li>
</ul></li>
<li>
<code>getEventName()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>event : String | Array</code> - One or more space-separated event types</li>
</ul></li>
<li>Applies the event namespace to the provided event types.</li>
</ul></li>
<li>
<code>getElement()</code>
<ul><li>Getter method for the element which instanciate the plugin.</li>
</ul></li>
<li>
<code>getOptions()</code>
<ul><li>Getter method for the merged configuration object.</li>
</ul></li>
<li>
<code>getOption()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>key : String</code> - Key of the configuration property</li>
</ul></li>
<li>Getter method for a certain configuration property</li>
</ul></li>
<li>
<code>setOption()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>key : String</code> - Key of the configuration property</li>
<li>
<code>value : Mixed</code> - Value for the provided key</li>
</ul></li>
<li>Setter method which overrides the value of the provided key with the provided value.</li>
</ul></li>
<li>
<code>applyDataAttributes()</code>
<ul><li>Fetches the provided configuration keys and overrides the values based on the elements <code>data</code> attributes.</li>
</ul></li>
</ul><h2 id="global-jquery-event-observer">Global jQuery event observer</h2>

<p>We've added a global event observer into Shopware 5 as well. It provides us with the ability to define events globally in the jQuery object and therefor every plugin can listen to these events:</p>

<pre><code class="language-javascript">// Register a new event
$.publish('plugin/some-plugin/onInit', me);

// Listen for an event
$.subscribe('plugin/some-plugin/onInit', function() {
    console.log('onInit');
})

// Remove an event listener
$.unsubscribe('plugin/some-plugin/onInit');
</code></pre>

<p>Please keep in mind to register your event listeners with a namespace, otherwise you'll remove all subscribed event listeners for the certain event type.</p>

<pre><code class="language-javascript">$.subscribe('plugin/some-plugin/onInit.my-plugin', function() {});

// Remove an event listener
$.unsubscribe('plugin/some-plugin/onInit.my-plugin');
</code></pre>

<h2 id="the-statemanager">The StateManager</h2>

<p>The StateManager helps you master different behaviors for different screen sizes.
It provides you with the ability to register different states that are handled
by breakpoints.</p>

<p>Those breakpoints are defined by entering and exiting points (in pixels)
based on the viewport width.
By entering the breakpoint range, the <code>enter()</code> functions of the registered
listeners are called.
When the defined points are reached, the registered <code>exit()</code> listener
functions will be called.</p>

<p>This way you can register callbacks that will be called on entering / exiting the defined state.</p>

<p>The StateManager provides you with multiple helper methods and polyfills which help you
master responsive design.</p>

<h2 id="using-the-statemanager">Using the StateManager</h2>

<p>The StateManager is self-containing and globally available in the global javascript scope in the storefront.</p>

<p>It's initialized with the following breakpoints:</p>

<ul><li>State XS
<ul><li>Range between <code>0</code> and <code>479</code> pixels</li>
<li>Usually used for smartphones in portrait mode</li>
</ul></li>
<li>State S
<ul><li>Range between <code>480</code> and <code>767</code> pixels</li>
<li>Usually used for smartphones in landscape mode</li>
</ul></li>
<li>State M
<ul><li>Range between <code>768</code> and <code>1023</code> pixels</li>
<li>Usually used for tablets in portrait mode</li>
</ul></li>
<li>State L
<ul><li>Range between <code>1024</code> and <code>1259</code> pixels</li>
<li>Usually used for tablets in landscape mode, netbooks and desktop PCs</li>
</ul></li>
<li>State XL
<ul><li>Range between <code>1260</code> and <code>5160</code> pixels</li>
<li>Usually used for desktop PCs with a high resolution monitor</li>
</ul></li>
</ul><h3 id="adding-an-event-listener">Adding an event listener</h3>

<p>Registering or removing an event listener which uses the StateManager, is as easy as doing it in pure javascript.</p>

<p>The following example shows how to register an event listener:</p>

<pre><code class="language-javascript">StateManager.registerListener([{
    state: 'xs',
    enter: function() { console.log('onEnter'); },
    exit: function() { console.log('onExit'); }
}]);
</code></pre>

<p>The registration of event listeners also supports wildcards, so the <code>enter()</code> and <code>exit()</code> methods are called by every change of the breakpoint:</p>

<pre><code class="language-javascript">StateManager.registerListener([{
    state: '*',
    enter: function() { console.log('onEnter'); },
    exit: function() { console.log('onExit'); }
}]);
</code></pre>

<h3 id="register-additional-breakpoints">Register additional breakpoints</h3>

<p>The default breakpoints can be extended using the <code>registerBreakpoint()</code> method of the StateManager.<br><strong>Note:</strong> Breakpoint ranges are not allowed to overlap with other existing ranges.</p>

<pre><code class="language-javascript">StateManager.registerBreakpoint({
    state: 'xxl',
    enter: 78.75,  // = 1260px
    exit: 90      // = 1440px
});
</code></pre>

<h3 id="class-methods-0">Class methods</h3>

<ul><li>
<code>init()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>breakpoints : Array | Object</code> - The states, which should be available on start up</li>
</ul></li>
<li>Initializes the StateManager and registers the provided breakpoints, adds a browser specific class to the <code>html</code> element and sets a device specific cookie.</li>
</ul></li>
<li>
<code>registerBreakpoint()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>breakpoints : Array | Object</code> - The states, which should be available on start up</li>
</ul></li>
<li>Registers an additional breakpoint to the StateManager.</li>
</ul></li>
<li>
<code>removeBreakpoint()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>state : String</code> - State which should be removed, e.g. &quot;xs&quot; or &quot;l&quot;</li>
</ul></li>
<li>Removes the provided state from the StateManager.</li>
</ul></li>
<li>
<code>registerListener()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>listener : Array | Object</code> - Either a single listener object or an array with multiple listener objects</li>
</ul></li>
<li>Registers an event listener to the StateManager. The listener will be fired when the provided state is entered or left.</li>
</ul></li>
<li>
<code>addPlugin()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>selector : String | HTMLElement | jQuery</code> - Element selector</li>
<li>
<code>pluginName : String</code> - Name of the plugin which should be added to the selector.</li>
<li>
<code>config : Object (optional)</code> - Custom configuration for the plugin. Can be omitted.</li>
<li>
<code>viewport: Array | String</code> - The states where the plugin should be active.</li>
</ul></li>
<li>Registers a jQuery plugin to the StateManager. This functionality is especially useful when you want to provide certain behavior only for specific states.</li>
</ul></li>
<li>
<code>removePlugin()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>selector : String | HTMLElement | jQuery</code> - Element selector</li>
<li>
<code>pluginName : String</code> - Name of the plugin which should be removed from the selector.</li>
<li>
<code>viewport: Array | String</code> - A state where the plugin should be removed.</li>
</ul></li>
<li>Removes a previously added plugin from an element for a certain state.</li>
</ul></li>
<li>
<code>updatePlugin()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>selector : String | HTMLElement | jQuery</code> - Element selector</li>
<li>
<code>pluginName : String</code> - Name of the plugin which should be updated.</li>
</ul></li>
<li>Programmatically update a plugin on an element. Usually the StateManager should call the <code>update()</code> method of the plugin themself. The method calls the <code>update()</code> method of the plugin.</li>
</ul></li>
<li>
<code>destroyPlugin()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>selector : String | HTMLElement | jQuery</code> - Element selector</li>
<li>
<code>pluginName : String</code> - Name of the plugin which should be destroyed.</li>
</ul></li>
<li>The method that removes the plugin from the StateManager. Unlike the <code>removePlugin()</code> method, the method calls the <code>destroy()</code> method of the provided plugin.</li>
</ul></li>
<li>
<code>getViewportWidth()</code>
<ul><li>Getter method which returns the current width of browser window.</li>
</ul></li>
<li>
<code>getViewportHeight()</code>
<ul><li>Getter method which returns the current height of browser window.</li>
</ul></li>
<li>
<code>getPreviousState()</code>
<ul><li>Returns the previous state. This can be either a <code>String</code> or <code>null</code> when no previous state was active.</li>
</ul></li>
<li>
<code>isPreviousState()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>state : String</code> - State which should be checked, e.g. &quot;xs&quot; or &quot;l&quot;</li>
</ul></li>
<li>Determine if the argument passed was the previous active state.</li>
</ul></li>
<li>
<code>getCurrentState()</code>
<ul><li>Getter method which returns the currently active state.</li>
</ul></li>
<li>
<code>isCurrentState()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>state : String</code> - State which should be checked, e.g. &quot;xs&quot; or &quot;l&quot;</li>
</ul></li>
<li>Determine if the argument passed is the currently active state.</li>
</ul></li>
<li>
<code>isPortraitMode()</code>
<ul><li>Determine if the device is in portrait mode.</li>
</ul></li>
<li>
<code>isLandscapeMode()</code>
<ul><li>Determine if the device is in landscape mode.</li>
</ul></li>
<li>
<code>getDevicePixelRatio()</code>
<ul><li>Determine the pixel device ratio of the device.</li>
</ul></li>
<li>
<code>isBrowser()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>browser : String</code> - Browser name to test, e.g. &quot;firefox&quot; or &quot;safari&quot;</li>
</ul></li>
<li>Determines if the argument passed is the current browser of the user.</li>
</ul></li>
<li>
<code>getScrollBarHeight()</code>
<ul><li>Returns the default scrollbar width of the browser.</li>
</ul></li>
<li>
<code>matchMedia()</code>
<ul><li>
<code>matchMedia</code> polyfill, which provides the ability to test CSS media queries in javascript.</li>
</ul></li>
<li>
<code>requestAnimationFrame()</code>
<ul><li>
<code>requestAnimationFrame</code> polyfill for cross-browser support</li>
</ul></li>
<li>
<code>cancelAnimationFrame()</code>
<ul><li>
<code>cancelAnimationFrame</code> polyfill for cross-browser support</li>
</ul></li>
<li>
<code>getVendorProperty()</code>
<ul><li>
<strong>Arguments</strong>
<ul><li>
<code>property : String</code> - The property which needs the vendor prefix</li>
<li>
<code>softError : Boolean</code> - Truthy to return the provided property when no vendor was found, otherwise the method returns <code>null</code>
</li>
</ul></li>
<li>Tests the provided CSS style property on an empty div with all vendor properties.</li>
</ul></li>
</ul><h2 id="working-with-stateful-jquery-plugins">Working with stateful jQuery plugins</h2>

<p>The combination of the StateManager paired with the jQuery plugin base class provides an easy-to-use way to register jQuery plugins for certain state. That provides us with the ability to provide different behavior for components based on the current active state. For example the Offcanvas menu plugin is only active on mobile devices (states &quot;xs&quot; and &quot;s&quot;) and is disabled on tablets and desktop pc's.</p>

<p>The StateManager is available in the global javascript scope of the storefront. To register your plugin, simply call the addPlugin() method of the StateManager.</p>

<p>In the following example we register our own jQuery plugin for the XS and S states. The name of the plugin is &quot;myPlugin&quot; and we will bind it to the HTML DOM nodes which have the class .my-selector:</p>

<pre><code class="language-javascript">StateManager.addPlugin('.my-selector', 'myPlugin', [ 'xs', 's' ]);
</code></pre>

<h3 id="passing-user-configuration-to-the-jquery-plugin">Passing user configuration to the jQuery plugin</h3>

<p>It's also possible to pass user configuration options to the plugin, which will be merged with the plugin's default configuration. The merged configuration is accessible using the this.opts object in your plugin.</p>

<pre><code class="language-javascript">// your plugin
$.plugin('myPlugin', {
    defaults: {
        'speed': 300
    }
});

// Registration of the plugin
StateManager.addPlugin('.my-selector', 'myPlugin', {
    'speed': 2000
}, [ 'xs', 's' ]);
</code></pre>

<p>If you need to pass modified configuration to your plugin for a specific viewport, you can use the following pattern:</p>

<pre><code class="language-javascript">StateManager.addPlugin('.my-selector', 'myPlugin', {
    'speed': 300
}).addPlugin('.my-selector', 'myPlugin', {
    'speed': 2000
}, 's');
</code></pre>

<h2 id="adding-javascript-files-to-your-theme">Adding javascript files to your theme</h2>

<p>Working with compressors isn't always as easy as adding the files to your HTML structure using <code>script</code> tags. The built-in javascript compressor is just as easy as this and perfectly suited to your workflow as a web developer.</p>

<p>Simply place your javascript files in the <code>frontend/_public</code> directory and add their paths to the <code>$javascript</code> array in your <code>Theme.php</code> and you're good to go.</p>

<pre><code class="language-php">/** @var array Defines the files which should be compiled by the javascript compressor */
protected $javascript = array(
    'src/js/jquery.my-plugin.js'
);
</code></pre>

                    </div>

        <div class="clearfix"></div>
    </div>

    <!-- Footer -->
    <footer class="main-footer"><div class="footer--container">
            <div class="copyright">2017 © shopware AG - All rights reserved</div>
            <div class="footer--links">
                <a href="https://en.shopware.com/legal-notice" target="_blank" title="Imprint">Imprint</a> |
                <a href="https://en.shopware.com/gtc" target="_blank" title="Terms and Conditions">Terms and Conditions</a>
            </div>
        </div>
    </footer></div>

<script src="//cdn.jsdelivr.net/jquery/2.1.4/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/languages/less.min.js"></script><script src="https://developers.shopware.com/assets/js/anchor.min.1501499820.js"></script><script src="https://developers.shopware.com/assets/js/jquery.expandCode.1501499820.js"></script><script src="https://developers.shopware.com/assets/js/jquery.toc.1501499820.js"></script><script src="https://developers.shopware.com/assets/js/jquery.offcanvas.1501499820.js"></script><script src="https://developers.shopware.com/assets/js/app.1501499820.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><!-- Google Tag Manager --><noscript>
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5ZGXBG" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<script>(function (w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
        'gtm.start': new Date().getTime(), event: 'gtm.js'
    });
    var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src =
            '//www.googletagmanager.com/gtm.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
})(window, document, 'script', 'dataLayer', 'GTM-5ZGXBG');</script><!-- End Google Tag Manager --></body></html>